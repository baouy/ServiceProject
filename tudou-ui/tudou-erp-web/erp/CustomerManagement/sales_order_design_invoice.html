<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript">
        $("#sales_order_invoice_list").datagrid({
            local: 'remote',
            dataUrl: '/v1/myother/gettinvoice',
            dataType: 'json',
            sortAll: true,
            loadType: 'get',
            filterAll: true,
            columns: [
                {name:'contractdoc', width:'150', label:'收款单号'},
                {name:'custname', width:'150', label:'姓名'},
                {name:'mobile', width:'150', label:'手机号'},
                {name:'paymentamount', width:'150', label:'收款金额'},
                {name:'paymentmethods', width:'150', label:'收款方式'},
                {name:'custsales', width:'150', label:'',hide: true},
                {name:'stores', width:'150', label:'',hide: true},
                {name:'provincename', width:'150', label:'',hide: true},
                {name:'cityname', width:'150', label:'',hide: true},
                {name:'districtname', width:'150', label:'',hide: true},
                {name:'road', width:'150', label:'',hide: true},
                {name:'community', width:'150', label:'',hide: true},
                {name:'building', width:'150', label:'',hide: true},
                {name:'room', width:'150', label:'',hide: true},
                {name:'custsalesid', width:'150', label:'',hide: true},
                {name:'cid', width:'150', label:'',hide: true},
                {name:'storesid', width:'150', label:'',hide: true},
                {name: 'id', width: '80', label: '主键',hide: true}
            ],
            showLinenumber:true,
            paging: {pageSize:20, selectPageSize:'50,80', pageCurrent:1},
            columnMenu: true,
            columnShowhide: true,
            columnFilter: true,
            columnLock: false,
            fullGrid: false
        })
        function sales_order_select_invoice(){
            var contractdoc = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(1)").text()+"'";//收款单号
            var custname =  "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(2)").text()+"'";//姓名
            var mobile = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(3)").text()+"'";//手机
            var paymentamount = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(4)").text()+"'";//收款金额
            var paymentmethods = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(5)").text()+"'";//收款方式
            var custsales = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(6)").text()+"'";//客户经理
            var stores = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(7)").text()+"'";//门店
            var receivedaddress = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(8)").text()
                    +$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(9)").text()
                    +$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(10)").text()
                    +$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(11)").text()
                    +$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(12)").text()
                    +$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(13)").text()
                    +$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(14)").text()+"'";//收款方式
            var custsalesid = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(15)").text()+"'";//客户经理
            var custid = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(16)").text()+"'";//客户经理
            var storesid = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(17)").text()+"'";//客户经理
            var contractid = "'"+$("#sales_order_invoice_list .datagrid-selected-tr>td:eq(18)").text()+"'";//合同id
            $("#selected_invoice").attr("data-args","{contractdoc:"+contractdoc+","+"username:"+custname+","+"mobile:"+mobile+","
                    +"paymentamount:"+paymentamount+","
                    +"paymentmethods:"+paymentmethods+","
                    +"custsales:"+custsales+","
                    +"custsalesid:"+custsalesid+","
                    +"custid:"+custid+","
                    +"stores:"+stores+","
                    +"storesid:"+storesid+","
                    +"contractid:"+contractid+","
                    +"receivedaddress:"+receivedaddress+"}");
        }
    </script>
</head>
<body>
<div class="bjui-pageContent">
    <div style="margin-bottom:15px;">
        <a href="javascript:;" data-toggle="lookupback" onclick="sales_order_select_invoice()" class="btn btn-blue" data-args="" title="选择本项" data-icon="check" id="selected_invoice"><i class="fa fa-check"></i> 选择</a>
        <button type="button" class="btn-close btn" data-icon="close"><i class="fa fa-close"></i> 关闭</button>
    </div>
    <table id="sales_order_invoice_list">

    </table>
</div>
</body>
</html>