<html>

<head>
	<script type="text/javascript">

		$('#customer_performance_tabel').datagrid({

			local: 'remote',
			dataUrl: '/v1/newcustomer/performanceReport',
			dataType: 'json',
			sortAll: false,
			loadType: 'get',
			filterAll: true,
			height:'95%',
			columns: [
				{name: 'source', width: '110', label: '来源'},
				{name: 'agreementdoc', width: '100', label: '定金协议号'},
				{name: 'sodoc', width: '100', label: '合同号'},
				{name: 'cusname', width: '70', label: '客户姓名'},
				{name: 'mobile', width: '100', label: '客户手机'},
				//{name: 'toufang', width: '30', label: '投放人员'},
				{name: 'mobilesales', width: '70', label: '渠道人员'},
				{name: 'newmedia', width: '70', label: '新媒体'},
				{name: 'custsales', width: '70', label: '客户经理'},
				{name: 'designer', width: '70', label: '设计师'},
				{name: 'contractamount', width: '90', label: '合同总额',render:function(value){
					var result =!value || value == null || value == ''? '0' : value;
					return result;
				}},
				{name: 'contractamountsum', width: '90', label: '累计实收'},
				{name: 'sumratereal', width: '80', label: '累计实收比例'},
				//{name: 'isdecorate', type:'select',items: [{'true': '是'}, {'false': '否'}], width: '70', label: ' 是否使用装修贷 （是/到账期） （否） '},

				{name: 'monthreal', width: '90', label: '本月累计实收'},

				{name: 'suminvoice', width: '90', label: '累计实收定金'},
				{name: 'suminvoicereal', width: '110', label: '本月累计实收定金'},

				//{name: 'basepackagefee', width: '30', label: '基本包费用'},
				//{name: 'packagefee', width: '30', label: '个性包费用'},
				//{name: 'remotefee', width: '30', label: '远程费'},
				//{name: 'ratefee', width: '30', label: '税费'},
				//{name: 'wealfee', width: '30', label: '福利金额'},

				{name: 'marktime', width: '160', label: '邀约到场时间'},
				{name: 'createtime', width: '160', label: '创建时间'},
				{name: 'businessdate', width: '100', label: '收款时间'}/*,
				{name: 'createtime2', width: '180', label: '签约时间'}*/
			],

				//{name: 'id', width: '80', label: '主键', hide: true}],
			paging: {pageSize: 50, selectPageSize: '50,100,200', pageCurrent: 1,callback:testfunction},
			columnMenu: true,
			columnShowhide: true,
			columnFilter: false,
			columnLock: false,
			filterThead:false,
			fullGrid: false
		});

		function testfunction(){
			var starttime =  $("#starttime").val();
			var endtime =  $("#endtime").val();
			var cusname =  $("#cusname").val();
			var custsales = $("#custsales").val();
			var mobile = $("#mobile").val();
			$('#customer_performance_tabel').datagrid('reload', {postData:{'starttime':starttime,'endtime':endtime,'cusname':cusname,'custsales':custsales,'mobile':mobile}});
		}

	</script>
</head>

<body>
<div class="bjui-pageContent">
	<div style="height: 30px;">
		<form action="/v1/newcustomer/performanceReport" method="get" data-toggle="ajaxsearch">
		<label >开始时间：</label><input type="text" name="starttime" id="starttime" readonly data-toggle="datepicker">&nbsp;&nbsp;&nbsp;&nbsp;
		<label >结束时间：</label><input type="text" name="endtime" id="endtime" readonly data-toggle="datepicker">&nbsp;&nbsp;&nbsp;&nbsp;
		<label >客户姓名：</label><input type="text"  name="cusname" id="cusname" style="width: 100px;" >&nbsp;&nbsp;&nbsp;&nbsp;
		<label >客户手机：</label><input type="text"  name="mobile" id="mobile" style="width: 120px;" >&nbsp;&nbsp;&nbsp;&nbsp;
		<label >客户经理：</label><input type="text"  name="custsales" id="custsales" style="width: 100px;" >&nbsp;&nbsp;&nbsp;&nbsp;
		<!--<label class="x85">实收金额：</label><input type="number" name="realmoney" id="realmoney" placeholder="0">-->
		<button type="button" class="btn btn-green" data-icon="query" onclick="testfunction()">查询</button>
			<button type="reset" class="btn btn-orange"  >清空</button>
		</form>
	</div>
	<table id="customer_performance_tabel" class="table table-hover" data-width="100%"></table>
</div>
</body>
<script>
//	$("#starttime").datepicker({pattern:'yyyy-MM-dd HH:mm:ss',nobtn:false,onlybtn:true});
//	$("#endtime").datepicker({pattern:'yyyy-MM-dd HH:mm:ss',nobtn:false,onlybtn:true});
</script>
</html>