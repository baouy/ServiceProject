<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript">
        $("#storage_selecte_list").datagrid({
            local: 'remote',
            dataUrl: '/v1/myother/getstorage',
            dataType: 'json',
            sortAll: false,
            loadType: 'get',
            filterAll: true,
            height:'95%',
            columns: [
                {name:'warehousecode', width:'150', label:'仓库编码'},
                {name:'warehousename', width:'150', label:'仓库名称'},
                {name: 'id', width: '80', label: '主键',hide: true}
            ],
            showLinenumber:true,
            paging: {pageSize:20, selectPageSize:'50,100,200', pageCurrent:1},
            columnMenu: true,
            columnShowhide: true,
            columnFilter: true,
            columnLock: false,
            fullGrid: false
        })
        function purchase_select_supplier(){
            var warehousecode = "'"+$("#storage_selecte_list .datagrid-selected-tr>td:eq(1)").text()+"'";//供应商编码
            var warehousename =  "'"+$("#storage_selecte_list .datagrid-selected-tr>td:eq(2)").text()+"'";//供应商名称
            var id = "'"+$("#storage_selecte_list .datagrid-selected-tr>td:eq(3)").text()+"'";//业务员id
            $("#selected_supplier").attr("data-args","{warehousecode:"+warehousecode+","+"warehousename:"+warehousename+","+"id:"+id+"}");
            for (var i = 0; i < $("#storage_order_add tbody tr").length; i++) {
                $("#storage_order_add tbody tr:eq(" + i + ") td:eq(14) input").val($("#storage_selecte_list .datagrid-selected-tr>td:eq(2)").text())
            }
            for (var i = 0; i < $("#delivery_order_add tbody tr").length; i++) {
                $("#delivery_order_add tbody tr:eq(" + i + ") td:eq(4) input").val($("#storage_selecte_list .datagrid-selected-tr>td:eq(2)").text())
            }
            for (var i = 0; i < $("#returnin_order_add tbody tr").length; i++) {
                $("#returnin_order_add tbody tr:eq(" + i + ") td:eq(4) input").val($("#storage_selecte_list .datagrid-selected-tr>td:eq(2)").text())
            }
        }
    </script>
</head>
<body>
<div class="bjui-pageContent">
    <div style="margin-bottom:15px;">
        <a href="javascript:;" data-toggle="lookupback" onclick="purchase_select_supplier()" class="btn btn-blue" data-args="" title="选择本项" data-icon="check" id="selected_supplier"><i class="fa fa-check"></i> 选择</a>
        <button type="button" class="btn-close btn" data-icon="close"><i class="fa fa-close"></i> 关闭</button>
    </div>
    <table id="storage_selecte_list">

    </table>
</div>
</body>
</html>